{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"mii-lib","text":"<p>Library and CLI for extracting <code>.mii</code> files from misc. Wii/Dolphin data dumps, and extracting information from them (name, fav. color, gender, etc.)</p> <p>This is all based around reading from a <code>RFL_DB.dat</code> file.</p>"},{"location":"#finding-your-database-file","title":"Finding Your Database File","text":"<p>The library automatically checks for database files in known Dolphin Emulator locations:</p> <ul> <li><code>C:\\Users\\&lt;Your Username&gt;\\Documents\\Dolphin Emulator\\Wii\\shared2\\menu\\FaceLib\\</code></li> <li><code>C:\\Users\\&lt;Your Username&gt;\\AppData\\Roaming\\Dolphin Emulator\\Wii\\shared2\\menu\\FaceLib\\</code></li> <li><code>~/.dolphin-emu/Wii/shared2/menu/FaceLib/</code></li> </ul> <p>If the database file is not in your current directory, the library will automatically search these locations. If none of these exist, check where Dolphin is saving its data to in its settings, and provide the full path when creating a <code>MiiDatabase</code>.</p>"},{"location":"#installation","title":"Installation","text":"<ul> <li>Library only: <code>pip install mii-lib</code></li> <li>With CLI: <code>pip install mii-lib[cli]</code> / <code>uvx mii-cli --help</code> / etc.</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>from pathlib import Path\nfrom mii import MiiDatabase, MiiParser, MiiType\n\ndatabase = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\nmii = database[0]\nprint(mii.name)\nprint(mii.favorite_color)\n\nfor mii in database:\n    print(f\"{mii.name} by {mii.creator_name}\")\n\nwith open(\"WII_PL00000.mii\", \"rb\") as f:\n    mii_data = f.read()\n\nmii = MiiParser.parse(mii_data)\nprint(mii.get_birthday_string())\n</code></pre>"},{"location":"#features","title":"Features","text":"<ul> <li>Extract Miis from Wii Plaza, Wii Parade, WiiU Maker, and 3DS Maker database files</li> <li>Parse individual <code>.mii</code> files</li> <li>Access Mii metadata (name, creator, birthday, favorite color, etc.)</li> <li>Filter and search Miis programmatically</li> <li>Export Miis to disk</li> </ul>"},{"location":"#whats-next","title":"What's Next?","text":"<ul> <li>Check out the API Reference for detailed documentation</li> <li>See Examples for more usage patterns</li> <li>View the source code on GitHub</li> </ul> <p>Originally based on PyMii</p>"},{"location":"api/","title":"API Reference","text":""},{"location":"api/#core-classes","title":"Core Classes","text":""},{"location":"api/#miidatabase","title":"MiiDatabase","text":"<p>options: show_root_heading: true show_root_toc_entry: true show_source: true</p>"},{"location":"api/#mii.database.MiiDatabase","title":"<code>mii.database.MiiDatabase</code>","text":"<p>Reads and manages Miis from a database file</p> Source code in <code>src/mii/database.py</code> <pre><code>class MiiDatabase:\n    \"\"\"Reads and manages Miis from a database file\"\"\"\n\n    def __init__(self, file_path: Path, mii_type: MiiType):\n        \"\"\"Initialize MiiDatabase by reading from a database file\n\n        Args:\n            file_path: Path to the database file\n            mii_type: Type of Mii database (determines offset, size, etc.)\n\n        Raises:\n            MiiDatabaseError: If file doesn't exist or can't be read\n\n        Examples:\n            &gt;&gt;&gt; from pathlib import Path\n            &gt;&gt;&gt; from mii import MiiDatabase, MiiType\n            &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n            &gt;&gt;&gt; print(len(database))\n        \"\"\"\n        # If the provided path doesn't exist, check known locations\n        if not file_path.exists():\n            known_locations = _get_known_database_locations(file_path.name)\n            found_path = None\n\n            for location in known_locations:\n                if location.exists():\n                    found_path = location\n                    break\n\n            if found_path:\n                file_path = found_path\n            else:\n                raise MiiDatabaseError(f\"{file_path} not found\")\n\n        self.file_path = file_path\n        self.mii_type = mii_type\n        self._miis: List[Mii] = []\n        self._load_miis()\n\n    def _load_miis(self) -&gt; None:\n        \"\"\"Load all Miis from the database file into memory\"\"\"\n        empty_mii = bytearray(self.mii_type.SIZE)\n\n        try:\n            with open(self.file_path, \"rb\") as infile:\n                infile.seek(self.mii_type.OFFSET)\n\n                mii_count = 0\n                is_active = True\n\n                while is_active and mii_count &lt; self.mii_type.LIMIT:\n                    mii_data = infile.read(self.mii_type.SIZE)\n\n                    # Stop if we've run out of data\n                    if len(mii_data) &lt; self.mii_type.SIZE:\n                        is_active = False\n                    # Skip empty Miis but continue reading\n                    elif mii_data == empty_mii:\n                        continue\n                    else:\n                        # Parse the Mii data\n                        mii = MiiParser.parse(mii_data, padding=self.mii_type.PADDING)\n                        self._miis.append(mii)\n                        mii_count += 1\n\n        except PermissionError as e:\n            raise MiiDatabaseError(\n                f\"Permission denied accessing {self.file_path}\"\n            ) from e\n        except Exception as e:\n            raise MiiDatabaseError(f\"Error reading database: {e}\") from e\n\n    def __iter__(self) -&gt; Iterator[Mii]:\n        \"\"\"Make MiiDatabase iterable\"\"\"\n        return iter(self._miis)\n\n    def __len__(self) -&gt; int:\n        \"\"\"Return count of Miis in database\"\"\"\n        return len(self._miis)\n\n    def __getitem__(self, index: int) -&gt; Mii:\n        \"\"\"Index access to Miis\"\"\"\n        return self._miis[index]\n\n    def filter(self, predicate: Callable[[Mii], bool]) -&gt; List[Mii]:\n        \"\"\"Filter Miis by a predicate function\n\n        Args:\n            predicate: Function that takes a Mii and returns True to include it\n\n        Returns:\n            List of Miis that match the predicate\n\n        Examples:\n            &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n            &gt;&gt;&gt; red_miis = database.filter(lambda m: m.favorite_color == \"Red\")\n            &gt;&gt;&gt; named_miis = database.filter(lambda m: m.name and m.name != \"Unnamed\")\n        \"\"\"\n        return [mii for mii in self._miis if predicate(mii)]\n\n    def get_all(self) -&gt; List[Mii]:\n        \"\"\"Get all Miis as a list\"\"\"\n        return self._miis.copy()\n\n    def get_by_name(self, name: str) -&gt; Optional[Mii]:\n        \"\"\"Get the first Mii with a matching name (case-insensitive)\n\n        Args:\n            name: Name to search for\n\n        Returns:\n            Mii with matching name, or None if not found\n\n        Examples:\n            &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n            &gt;&gt;&gt; mii = database.get_by_name(\"My Mii\")\n            &gt;&gt;&gt; if mii:\n            ...     print(mii.creator_name)\n        \"\"\"\n        name_lower = name.lower()\n        for mii in self._miis:\n            if mii.name.lower() == name_lower:\n                return mii\n        return None\n\n    def get_favorites(self) -&gt; List[Mii]:\n        \"\"\"Get all favorite Miis\n\n        Returns:\n            List of Miis marked as favorites\n\n        Examples:\n            &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n            &gt;&gt;&gt; favorites = database.get_favorites()\n            &gt;&gt;&gt; print(f\"Found {len(favorites)} favorite Miis\")\n        \"\"\"\n        return self.filter(lambda m: m.is_favorite)\n\n    def export_all(self, output_dir: Path, prefix: Optional[str] = None) -&gt; List[Path]:\n        \"\"\"Export all Miis from this database to individual files\n\n        Args:\n            output_dir: Directory where Mii files should be written\n            prefix: Optional prefix for filenames. If None, uses mii_type.PREFIX\n\n        Returns:\n            List of Path objects for the exported files\n\n        Examples:\n            &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n            &gt;&gt;&gt; exported = database.export_all(Path(\"./miis\"))\n            &gt;&gt;&gt; print(f\"Exported {len(exported)} Miis\")\n        \"\"\"\n        output_dir.mkdir(parents=True, exist_ok=True)\n        file_prefix = prefix if prefix is not None else self.mii_type.PREFIX\n        exported_paths: List[Path] = []\n\n        for idx, mii in enumerate(self._miis):\n            mii_name = f\"{file_prefix}{idx:05d}.mii\"\n            output_path = output_dir / mii_name\n            mii.export(output_path)\n            exported_paths.append(output_path)\n\n        return exported_paths\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.__getitem__","title":"<code>__getitem__(index)</code>","text":"<p>Index access to Miis</p> Source code in <code>src/mii/database.py</code> <pre><code>def __getitem__(self, index: int) -&gt; Mii:\n    \"\"\"Index access to Miis\"\"\"\n    return self._miis[index]\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.__init__","title":"<code>__init__(file_path, mii_type)</code>","text":"<p>Initialize MiiDatabase by reading from a database file</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>Path</code> <p>Path to the database file</p> required <code>mii_type</code> <code>MiiType</code> <p>Type of Mii database (determines offset, size, etc.)</p> required <p>Raises:</p> Type Description <code>MiiDatabaseError</code> <p>If file doesn't exist or can't be read</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from pathlib import Path\n&gt;&gt;&gt; from mii import MiiDatabase, MiiType\n&gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n&gt;&gt;&gt; print(len(database))\n</code></pre> Source code in <code>src/mii/database.py</code> <pre><code>def __init__(self, file_path: Path, mii_type: MiiType):\n    \"\"\"Initialize MiiDatabase by reading from a database file\n\n    Args:\n        file_path: Path to the database file\n        mii_type: Type of Mii database (determines offset, size, etc.)\n\n    Raises:\n        MiiDatabaseError: If file doesn't exist or can't be read\n\n    Examples:\n        &gt;&gt;&gt; from pathlib import Path\n        &gt;&gt;&gt; from mii import MiiDatabase, MiiType\n        &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n        &gt;&gt;&gt; print(len(database))\n    \"\"\"\n    # If the provided path doesn't exist, check known locations\n    if not file_path.exists():\n        known_locations = _get_known_database_locations(file_path.name)\n        found_path = None\n\n        for location in known_locations:\n            if location.exists():\n                found_path = location\n                break\n\n        if found_path:\n            file_path = found_path\n        else:\n            raise MiiDatabaseError(f\"{file_path} not found\")\n\n    self.file_path = file_path\n    self.mii_type = mii_type\n    self._miis: List[Mii] = []\n    self._load_miis()\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.__iter__","title":"<code>__iter__()</code>","text":"<p>Make MiiDatabase iterable</p> Source code in <code>src/mii/database.py</code> <pre><code>def __iter__(self) -&gt; Iterator[Mii]:\n    \"\"\"Make MiiDatabase iterable\"\"\"\n    return iter(self._miis)\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.__len__","title":"<code>__len__()</code>","text":"<p>Return count of Miis in database</p> Source code in <code>src/mii/database.py</code> <pre><code>def __len__(self) -&gt; int:\n    \"\"\"Return count of Miis in database\"\"\"\n    return len(self._miis)\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.export_all","title":"<code>export_all(output_dir, prefix=None)</code>","text":"<p>Export all Miis from this database to individual files</p> <p>Parameters:</p> Name Type Description Default <code>output_dir</code> <code>Path</code> <p>Directory where Mii files should be written</p> required <code>prefix</code> <code>Optional[str]</code> <p>Optional prefix for filenames. If None, uses mii_type.PREFIX</p> <code>None</code> <p>Returns:</p> Type Description <code>List[Path]</code> <p>List of Path objects for the exported files</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n&gt;&gt;&gt; exported = database.export_all(Path(\"./miis\"))\n&gt;&gt;&gt; print(f\"Exported {len(exported)} Miis\")\n</code></pre> Source code in <code>src/mii/database.py</code> <pre><code>def export_all(self, output_dir: Path, prefix: Optional[str] = None) -&gt; List[Path]:\n    \"\"\"Export all Miis from this database to individual files\n\n    Args:\n        output_dir: Directory where Mii files should be written\n        prefix: Optional prefix for filenames. If None, uses mii_type.PREFIX\n\n    Returns:\n        List of Path objects for the exported files\n\n    Examples:\n        &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n        &gt;&gt;&gt; exported = database.export_all(Path(\"./miis\"))\n        &gt;&gt;&gt; print(f\"Exported {len(exported)} Miis\")\n    \"\"\"\n    output_dir.mkdir(parents=True, exist_ok=True)\n    file_prefix = prefix if prefix is not None else self.mii_type.PREFIX\n    exported_paths: List[Path] = []\n\n    for idx, mii in enumerate(self._miis):\n        mii_name = f\"{file_prefix}{idx:05d}.mii\"\n        output_path = output_dir / mii_name\n        mii.export(output_path)\n        exported_paths.append(output_path)\n\n    return exported_paths\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.filter","title":"<code>filter(predicate)</code>","text":"<p>Filter Miis by a predicate function</p> <p>Parameters:</p> Name Type Description Default <code>predicate</code> <code>Callable[[Mii], bool]</code> <p>Function that takes a Mii and returns True to include it</p> required <p>Returns:</p> Type Description <code>List[Mii]</code> <p>List of Miis that match the predicate</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n&gt;&gt;&gt; red_miis = database.filter(lambda m: m.favorite_color == \"Red\")\n&gt;&gt;&gt; named_miis = database.filter(lambda m: m.name and m.name != \"Unnamed\")\n</code></pre> Source code in <code>src/mii/database.py</code> <pre><code>def filter(self, predicate: Callable[[Mii], bool]) -&gt; List[Mii]:\n    \"\"\"Filter Miis by a predicate function\n\n    Args:\n        predicate: Function that takes a Mii and returns True to include it\n\n    Returns:\n        List of Miis that match the predicate\n\n    Examples:\n        &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n        &gt;&gt;&gt; red_miis = database.filter(lambda m: m.favorite_color == \"Red\")\n        &gt;&gt;&gt; named_miis = database.filter(lambda m: m.name and m.name != \"Unnamed\")\n    \"\"\"\n    return [mii for mii in self._miis if predicate(mii)]\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.get_all","title":"<code>get_all()</code>","text":"<p>Get all Miis as a list</p> Source code in <code>src/mii/database.py</code> <pre><code>def get_all(self) -&gt; List[Mii]:\n    \"\"\"Get all Miis as a list\"\"\"\n    return self._miis.copy()\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.get_by_name","title":"<code>get_by_name(name)</code>","text":"<p>Get the first Mii with a matching name (case-insensitive)</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Name to search for</p> required <p>Returns:</p> Type Description <code>Optional[Mii]</code> <p>Mii with matching name, or None if not found</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n&gt;&gt;&gt; mii = database.get_by_name(\"My Mii\")\n&gt;&gt;&gt; if mii:\n...     print(mii.creator_name)\n</code></pre> Source code in <code>src/mii/database.py</code> <pre><code>def get_by_name(self, name: str) -&gt; Optional[Mii]:\n    \"\"\"Get the first Mii with a matching name (case-insensitive)\n\n    Args:\n        name: Name to search for\n\n    Returns:\n        Mii with matching name, or None if not found\n\n    Examples:\n        &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n        &gt;&gt;&gt; mii = database.get_by_name(\"My Mii\")\n        &gt;&gt;&gt; if mii:\n        ...     print(mii.creator_name)\n    \"\"\"\n    name_lower = name.lower()\n    for mii in self._miis:\n        if mii.name.lower() == name_lower:\n            return mii\n    return None\n</code></pre>"},{"location":"api/#mii.database.MiiDatabase.get_favorites","title":"<code>get_favorites()</code>","text":"<p>Get all favorite Miis</p> <p>Returns:</p> Type Description <code>List[Mii]</code> <p>List of Miis marked as favorites</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n&gt;&gt;&gt; favorites = database.get_favorites()\n&gt;&gt;&gt; print(f\"Found {len(favorites)} favorite Miis\")\n</code></pre> Source code in <code>src/mii/database.py</code> <pre><code>def get_favorites(self) -&gt; List[Mii]:\n    \"\"\"Get all favorite Miis\n\n    Returns:\n        List of Miis marked as favorites\n\n    Examples:\n        &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n        &gt;&gt;&gt; favorites = database.get_favorites()\n        &gt;&gt;&gt; print(f\"Found {len(favorites)} favorite Miis\")\n    \"\"\"\n    return self.filter(lambda m: m.is_favorite)\n</code></pre>"},{"location":"api/#mii","title":"Mii","text":"<p>options: show_root_heading: true show_root_toc_entry: true show_source: true</p>"},{"location":"api/#mii.models.Mii","title":"<code>mii.models.Mii</code>  <code>dataclass</code>","text":"<p>Represents a single Mii with all its data</p> Source code in <code>src/mii/models.py</code> <pre><code>@dataclass\nclass Mii:\n    \"\"\"Represents a single Mii with all its data\"\"\"\n\n    raw_data: bytes  # Original Mii bytes (for writing back to disk)\n    name: str\n    creator_name: str\n    mii_id: bytes\n    is_girl: bool\n    birth_month: Optional[int]\n    birth_day: Optional[int]\n    favorite_color_index: int\n    favorite_color: str\n    is_favorite: bool\n    padding: int = 0  # Padding bytes to append when writing to disk\n\n    @property\n    def is_wii_mii(self) -&gt; bool:\n        \"\"\"Determine if this Mii is from Wii (True) or 3DS/WiiU (False)\"\"\"\n        file_size = len(self.raw_data)\n        if file_size == 74:\n            return True  # Wii Mii\n        elif file_size == 92:\n            return False  # 3DS/WiiU Mii\n        else:\n            raise ValueError(f\"Mii format is unknown (size: {file_size})\")\n\n    def get_creation_seconds(self) -&gt; int:\n        \"\"\"Extract timestamp seconds from Mii data\"\"\"\n        multiplier = 4 if self.is_wii_mii else 2\n        seek_pos = 0x18 if self.is_wii_mii else 0xC\n        str_id = self.raw_data[seek_pos : seek_pos + 4].hex()\n        int_id = int(str_id[1:], 16)\n        return int_id * multiplier\n\n    def get_creation_datetime(self) -&gt; datetime:\n        \"\"\"Get creation datetime for this Mii\n\n        Returns:\n            Datetime object representing when the Mii was created\n\n        Examples:\n            &gt;&gt;&gt; mii = database[0]\n            &gt;&gt;&gt; creation_time = mii.get_creation_datetime()\n            &gt;&gt;&gt; print(creation_time.strftime(\"%Y-%m-%d %H:%M:%S\"))\n        \"\"\"\n        seconds = self.get_creation_seconds()\n        base_date = datetime(2006, 1, 1) if self.is_wii_mii else datetime(2010, 1, 1)\n        shift = timedelta(seconds=seconds)\n        return base_date + shift\n\n    def get_birthday_string(self) -&gt; str:\n        \"\"\"Get formatted birthday string\n\n        Returns:\n            Formatted birthday string (e.g., \"1/15\") or \"Not set\"\n\n        Examples:\n            &gt;&gt;&gt; mii = database[0]\n            &gt;&gt;&gt; print(mii.get_birthday_string())\n            \"1/15\"\n        \"\"\"\n        if self.birth_month and self.birth_day:\n            return f\"{self.birth_month}/{self.birth_day}\"\n        return \"Not set\"\n\n    def get_gender_string(self) -&gt; str:\n        \"\"\"Get formatted gender string\n\n        Returns:\n            \"Female\" or \"Male\"\n\n        Examples:\n            &gt;&gt;&gt; mii = database[0]\n            &gt;&gt;&gt; print(mii.get_gender_string())\n            \"Female\"\n        \"\"\"\n        return \"Female\" if self.is_girl else \"Male\"\n\n    def to_bytes(self) -&gt; bytes:\n        \"\"\"Returns raw_data with padding appended if needed\"\"\"\n        if self.padding &gt; 0:\n            return self.raw_data + bytearray(self.padding)\n        return self.raw_data\n\n    def get_mii_id_hex(self) -&gt; str:\n        \"\"\"Get Mii ID as uppercase hex string\n\n        Returns:\n            Mii ID as uppercase hexadecimal string\n\n        Examples:\n            &gt;&gt;&gt; mii = database[0]\n            &gt;&gt;&gt; print(mii.get_mii_id_hex())\n            \"A1B2C3D4\"\n        \"\"\"\n        return self.mii_id.hex().upper()\n\n    def export(self, path: Path) -&gt; None:\n        \"\"\"Write this Mii to a file\n\n        Args:\n            path: Path where the Mii file should be written\n\n        Examples:\n            &gt;&gt;&gt; mii = database[0]\n            &gt;&gt;&gt; mii.export(Path(\"./my_mii.mii\"))\n        \"\"\"\n        path.parent.mkdir(parents=True, exist_ok=True)\n        with open(path, \"wb\") as f:\n            f.write(self.to_bytes())\n</code></pre>"},{"location":"api/#mii.models.Mii.is_wii_mii","title":"<code>is_wii_mii</code>  <code>property</code>","text":"<p>Determine if this Mii is from Wii (True) or 3DS/WiiU (False)</p>"},{"location":"api/#mii.models.Mii.export","title":"<code>export(path)</code>","text":"<p>Write this Mii to a file</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>Path</code> <p>Path where the Mii file should be written</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; mii = database[0]\n&gt;&gt;&gt; mii.export(Path(\"./my_mii.mii\"))\n</code></pre> Source code in <code>src/mii/models.py</code> <pre><code>def export(self, path: Path) -&gt; None:\n    \"\"\"Write this Mii to a file\n\n    Args:\n        path: Path where the Mii file should be written\n\n    Examples:\n        &gt;&gt;&gt; mii = database[0]\n        &gt;&gt;&gt; mii.export(Path(\"./my_mii.mii\"))\n    \"\"\"\n    path.parent.mkdir(parents=True, exist_ok=True)\n    with open(path, \"wb\") as f:\n        f.write(self.to_bytes())\n</code></pre>"},{"location":"api/#mii.models.Mii.get_birthday_string","title":"<code>get_birthday_string()</code>","text":"<p>Get formatted birthday string</p> <p>Returns:</p> Type Description <code>str</code> <p>Formatted birthday string (e.g., \"1/15\") or \"Not set\"</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; mii = database[0]\n&gt;&gt;&gt; print(mii.get_birthday_string())\n\"1/15\"\n</code></pre> Source code in <code>src/mii/models.py</code> <pre><code>def get_birthday_string(self) -&gt; str:\n    \"\"\"Get formatted birthday string\n\n    Returns:\n        Formatted birthday string (e.g., \"1/15\") or \"Not set\"\n\n    Examples:\n        &gt;&gt;&gt; mii = database[0]\n        &gt;&gt;&gt; print(mii.get_birthday_string())\n        \"1/15\"\n    \"\"\"\n    if self.birth_month and self.birth_day:\n        return f\"{self.birth_month}/{self.birth_day}\"\n    return \"Not set\"\n</code></pre>"},{"location":"api/#mii.models.Mii.get_creation_datetime","title":"<code>get_creation_datetime()</code>","text":"<p>Get creation datetime for this Mii</p> <p>Returns:</p> Type Description <code>datetime</code> <p>Datetime object representing when the Mii was created</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; mii = database[0]\n&gt;&gt;&gt; creation_time = mii.get_creation_datetime()\n&gt;&gt;&gt; print(creation_time.strftime(\"%Y-%m-%d %H:%M:%S\"))\n</code></pre> Source code in <code>src/mii/models.py</code> <pre><code>def get_creation_datetime(self) -&gt; datetime:\n    \"\"\"Get creation datetime for this Mii\n\n    Returns:\n        Datetime object representing when the Mii was created\n\n    Examples:\n        &gt;&gt;&gt; mii = database[0]\n        &gt;&gt;&gt; creation_time = mii.get_creation_datetime()\n        &gt;&gt;&gt; print(creation_time.strftime(\"%Y-%m-%d %H:%M:%S\"))\n    \"\"\"\n    seconds = self.get_creation_seconds()\n    base_date = datetime(2006, 1, 1) if self.is_wii_mii else datetime(2010, 1, 1)\n    shift = timedelta(seconds=seconds)\n    return base_date + shift\n</code></pre>"},{"location":"api/#mii.models.Mii.get_creation_seconds","title":"<code>get_creation_seconds()</code>","text":"<p>Extract timestamp seconds from Mii data</p> Source code in <code>src/mii/models.py</code> <pre><code>def get_creation_seconds(self) -&gt; int:\n    \"\"\"Extract timestamp seconds from Mii data\"\"\"\n    multiplier = 4 if self.is_wii_mii else 2\n    seek_pos = 0x18 if self.is_wii_mii else 0xC\n    str_id = self.raw_data[seek_pos : seek_pos + 4].hex()\n    int_id = int(str_id[1:], 16)\n    return int_id * multiplier\n</code></pre>"},{"location":"api/#mii.models.Mii.get_gender_string","title":"<code>get_gender_string()</code>","text":"<p>Get formatted gender string</p> <p>Returns:</p> Type Description <code>str</code> <p>\"Female\" or \"Male\"</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; mii = database[0]\n&gt;&gt;&gt; print(mii.get_gender_string())\n\"Female\"\n</code></pre> Source code in <code>src/mii/models.py</code> <pre><code>def get_gender_string(self) -&gt; str:\n    \"\"\"Get formatted gender string\n\n    Returns:\n        \"Female\" or \"Male\"\n\n    Examples:\n        &gt;&gt;&gt; mii = database[0]\n        &gt;&gt;&gt; print(mii.get_gender_string())\n        \"Female\"\n    \"\"\"\n    return \"Female\" if self.is_girl else \"Male\"\n</code></pre>"},{"location":"api/#mii.models.Mii.get_mii_id_hex","title":"<code>get_mii_id_hex()</code>","text":"<p>Get Mii ID as uppercase hex string</p> <p>Returns:</p> Type Description <code>str</code> <p>Mii ID as uppercase hexadecimal string</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; mii = database[0]\n&gt;&gt;&gt; print(mii.get_mii_id_hex())\n\"A1B2C3D4\"\n</code></pre> Source code in <code>src/mii/models.py</code> <pre><code>def get_mii_id_hex(self) -&gt; str:\n    \"\"\"Get Mii ID as uppercase hex string\n\n    Returns:\n        Mii ID as uppercase hexadecimal string\n\n    Examples:\n        &gt;&gt;&gt; mii = database[0]\n        &gt;&gt;&gt; print(mii.get_mii_id_hex())\n        \"A1B2C3D4\"\n    \"\"\"\n    return self.mii_id.hex().upper()\n</code></pre>"},{"location":"api/#mii.models.Mii.to_bytes","title":"<code>to_bytes()</code>","text":"<p>Returns raw_data with padding appended if needed</p> Source code in <code>src/mii/models.py</code> <pre><code>def to_bytes(self) -&gt; bytes:\n    \"\"\"Returns raw_data with padding appended if needed\"\"\"\n    if self.padding &gt; 0:\n        return self.raw_data + bytearray(self.padding)\n    return self.raw_data\n</code></pre>"},{"location":"api/#miiparser","title":"MiiParser","text":"<p>options: show_root_heading: true show_root_toc_entry: true show_source: true</p>"},{"location":"api/#mii.parser.MiiParser","title":"<code>mii.parser.MiiParser</code>","text":"<p>Parses raw Mii bytes into Mii dataclass instances</p> Source code in <code>src/mii/parser.py</code> <pre><code>class MiiParser:\n    \"\"\"Parses raw Mii bytes into Mii dataclass instances\"\"\"\n\n    COLORS = [\n        \"Red\",\n        \"Orange\",\n        \"Yellow\",\n        \"Green\",\n        \"DarkGreen\",\n        \"Blue\",\n        \"LightBlue\",\n        \"Pink\",\n        \"Purple\",\n        \"Brown\",\n        \"White\",\n        \"Black\",\n    ]\n\n    @classmethod\n    def _read_string(cls, data: bytes, offset: int, length: int) -&gt; str:\n        \"\"\"Read UTF-16BE string from the data\"\"\"\n        string_data = data[offset : offset + length]\n        # Find the first null terminator (0x0000 in UTF-16BE)\n        null_pos = string_data.find(b\"\\x00\\x00\")\n        if null_pos != -1:\n            # Ensure we align to 2-byte boundaries for UTF-16\n            if null_pos % 2 != 0:\n                null_pos -= 1\n            string_data = string_data[: null_pos + 2]\n\n        # Convert from UTF-16BE and remove null terminators\n        return string_data.decode(\"utf-16be\").rstrip(\"\\x00\")\n\n    @classmethod\n    def _read_mii_name(cls, data: bytes) -&gt; str:\n        \"\"\"Read Mii name starting at offset 2\"\"\"\n        return cls._read_string(data, 2, 20)\n\n    @classmethod\n    def _read_creator_name(cls, data: bytes) -&gt; str:\n        \"\"\"Read creator name starting at offset 54\"\"\"\n        return cls._read_string(data, 54, 20)\n\n    @classmethod\n    def _read_mii_metadata(cls, data: bytes) -&gt; tuple:\n        \"\"\"Read and parse Mii metadata from first 2 bytes\n\n        Returns:\n            Tuple of (is_girl, birth_month, birth_day, favorite_color_index, is_favorite)\n        \"\"\"\n        # Read first 2 bytes and convert to binary string\n        metadata_bytes = data[0:2]\n        binary_str = \"\".join(format(b, \"08b\") for b in metadata_bytes)\n\n        # Extract metadata fields\n        is_girl = int(binary_str[1], 2)\n        birth_month = int(binary_str[2:6], 2)\n        birth_day = int(binary_str[6:11], 2)\n        favorite_color_index = int(binary_str[11:15], 2)\n        is_favorite = int(binary_str[15], 2)\n\n        return (is_girl, birth_month, birth_day, favorite_color_index, is_favorite)\n\n    @classmethod\n    def _read_mii_id(cls, data: bytes) -&gt; bytes:\n        \"\"\"Read 4-byte Mii ID starting at offset 24\"\"\"\n        return data[24:28]\n\n    @classmethod\n    def _get_color_name(cls, color_index: int) -&gt; str:\n        \"\"\"Get color name from color index\"\"\"\n        if 0 &lt;= color_index &lt; len(cls.COLORS):\n            return cls.COLORS[color_index]\n        return f\"Unknown ({color_index})\"\n\n    @classmethod\n    def parse(cls, data: bytes, padding: int = 0) -&gt; Mii:\n        \"\"\"Parse raw Mii bytes into a Mii dataclass instance\n\n        Args:\n            data: Raw Mii bytes\n            padding: Number of padding bytes to append when writing to disk\n\n        Returns:\n            Mii dataclass instance\n\n        Examples:\n            &gt;&gt;&gt; with open(\"WII_PL00000.mii\", \"rb\") as f:\n            ...     mii_data = f.read()\n            &gt;&gt;&gt; mii = MiiParser.parse(mii_data)\n            &gt;&gt;&gt; print(mii.name)\n        \"\"\"\n        mii_name = cls._read_mii_name(data)\n        creator_name = cls._read_creator_name(data)\n        metadata = cls._read_mii_metadata(data)\n        mii_id = cls._read_mii_id(data)\n        color_name = cls._get_color_name(metadata[3])\n\n        return Mii(\n            raw_data=data,\n            name=mii_name or \"Unnamed\",\n            creator_name=creator_name or \"Unknown\",\n            mii_id=mii_id,\n            is_girl=bool(metadata[0]),\n            birth_month=metadata[1] if metadata[1] else None,\n            birth_day=metadata[2] if metadata[2] else None,\n            favorite_color_index=metadata[3],\n            favorite_color=color_name,\n            is_favorite=bool(metadata[4]),\n            padding=padding,\n        )\n</code></pre>"},{"location":"api/#mii.parser.MiiParser.parse","title":"<code>parse(data, padding=0)</code>  <code>classmethod</code>","text":"<p>Parse raw Mii bytes into a Mii dataclass instance</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>bytes</code> <p>Raw Mii bytes</p> required <code>padding</code> <code>int</code> <p>Number of padding bytes to append when writing to disk</p> <code>0</code> <p>Returns:</p> Type Description <code>Mii</code> <p>Mii dataclass instance</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; with open(\"WII_PL00000.mii\", \"rb\") as f:\n...     mii_data = f.read()\n&gt;&gt;&gt; mii = MiiParser.parse(mii_data)\n&gt;&gt;&gt; print(mii.name)\n</code></pre> Source code in <code>src/mii/parser.py</code> <pre><code>@classmethod\ndef parse(cls, data: bytes, padding: int = 0) -&gt; Mii:\n    \"\"\"Parse raw Mii bytes into a Mii dataclass instance\n\n    Args:\n        data: Raw Mii bytes\n        padding: Number of padding bytes to append when writing to disk\n\n    Returns:\n        Mii dataclass instance\n\n    Examples:\n        &gt;&gt;&gt; with open(\"WII_PL00000.mii\", \"rb\") as f:\n        ...     mii_data = f.read()\n        &gt;&gt;&gt; mii = MiiParser.parse(mii_data)\n        &gt;&gt;&gt; print(mii.name)\n    \"\"\"\n    mii_name = cls._read_mii_name(data)\n    creator_name = cls._read_creator_name(data)\n    metadata = cls._read_mii_metadata(data)\n    mii_id = cls._read_mii_id(data)\n    color_name = cls._get_color_name(metadata[3])\n\n    return Mii(\n        raw_data=data,\n        name=mii_name or \"Unnamed\",\n        creator_name=creator_name or \"Unknown\",\n        mii_id=mii_id,\n        is_girl=bool(metadata[0]),\n        birth_month=metadata[1] if metadata[1] else None,\n        birth_day=metadata[2] if metadata[2] else None,\n        favorite_color_index=metadata[3],\n        favorite_color=color_name,\n        is_favorite=bool(metadata[4]),\n        padding=padding,\n    )\n</code></pre>"},{"location":"api/#miitype","title":"MiiType","text":"<p>options: show_root_heading: true show_root_toc_entry: true show_source: true</p>"},{"location":"api/#mii.types.MiiType","title":"<code>mii.types.MiiType</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Enum describing different Mii database types with their configurations</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from pathlib import Path\n&gt;&gt;&gt; from mii import MiiDatabase, MiiType\n&gt;&gt;&gt; # Load Wii Plaza database\n&gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n&gt;&gt;&gt; # Access type properties\n&gt;&gt;&gt; print(MiiType.WII_PLAZA.SOURCE)\n&gt;&gt;&gt; print(MiiType.WII_PLAZA.display_name)\n</code></pre> Source code in <code>src/mii/types.py</code> <pre><code>class MiiType(Enum):\n    \"\"\"Enum describing different Mii database types with their configurations\n\n    Examples:\n        &gt;&gt;&gt; from pathlib import Path\n        &gt;&gt;&gt; from mii import MiiDatabase, MiiType\n        &gt;&gt;&gt; # Load Wii Plaza database\n        &gt;&gt;&gt; database = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\n        &gt;&gt;&gt; # Access type properties\n        &gt;&gt;&gt; print(MiiType.WII_PLAZA.SOURCE)\n        &gt;&gt;&gt; print(MiiType.WII_PLAZA.display_name)\n    \"\"\"\n\n    WII_PLAZA = (\"RFL_DB.dat\", 0x4, 74, 0, 100, \"WII_PL\")\n    WII_PARADE = (\"RFL_DB.dat\", 0x1F1E0, 64, 10, 10_000, \"WII_PA\")\n    WIIU_MAKER = (\"FFL_ODB.dat\", 0x8, 92, 0, 3_000, \"WIIU_MA\")\n    _3DS_MAKER = (\"CFL_DB.dat\", 0x8, 92, 0, 100, \"3DS_MA\")\n\n    def __init__(\n        self, source: str, offset: int, size: int, padding: int, limit: int, prefix: str\n    ):\n        self.SOURCE = source\n        self.OFFSET = offset\n        self.SIZE = size\n        self.PADDING = padding\n        self.LIMIT = limit\n        self.PREFIX = prefix\n\n    @property\n    def display_name(self) -&gt; str:\n        \"\"\"Return a human-readable name for the Mii type\"\"\"\n        return self.name.lower().replace(\"_\", \"-\")\n</code></pre>"},{"location":"api/#mii.types.MiiType.display_name","title":"<code>display_name</code>  <code>property</code>","text":"<p>Return a human-readable name for the Mii type</p>"},{"location":"api/#exceptions","title":"Exceptions","text":""},{"location":"api/#miidatabaseerror","title":"MiiDatabaseError","text":"<p>options: show_root_heading: true show_root_toc_entry: true show_source: true</p>"},{"location":"api/#mii.database.MiiDatabaseError","title":"<code>mii.database.MiiDatabaseError</code>","text":"<p>               Bases: <code>Exception</code></p> <p>Exception raised during Mii database operations</p> Source code in <code>src/mii/database.py</code> <pre><code>class MiiDatabaseError(Exception):\n    \"\"\"Exception raised during Mii database operations\"\"\"\n\n    pass\n</code></pre>"},{"location":"examples/","title":"Examples","text":""},{"location":"examples/#loading-a-database","title":"Loading a Database","text":"<pre><code>from pathlib import Path\nfrom mii import MiiDatabase, MiiType\n\ndatabase = MiiDatabase(Path(\"RFL_DB.dat\"), MiiType.WII_PLAZA)\nprint(f\"Loaded {len(database)} Miis\")\n</code></pre>"},{"location":"examples/#working-with-mii-objects","title":"Working with Mii Objects","text":"<pre><code>mii = database[0]\n\nprint(f\"Mii Name: {mii.name}\")\nprint(f\"Creator: {mii.creator_name}\")\nprint(f\"Gender: {mii.get_gender_string()}\")\nprint(f\"Birthday: {mii.get_birthday_string()}\")\nprint(f\"Favorite Color: {mii.favorite_color}\")\nprint(f\"Mii ID: {mii.get_mii_id_hex()}\")\n</code></pre>"},{"location":"examples/#iterating-and-filtering","title":"Iterating and Filtering","text":"<pre><code># Iterate over all Miis\nfor mii in database:\n    print(f\"{mii.name} by {mii.creator_name}\")\n\n# Get favorite Miis\nfavorites = database.get_favorites()\n\n# Filter by color\nred_miis = database.filter(lambda m: m.favorite_color == \"Red\")\n\n# Filter by name\nnamed_miis = database.filter(lambda m: m.name and m.name != \"Unnamed\")\n\n# Find by name\nmii = database.get_by_name(\"My Mii\")\n</code></pre>"},{"location":"examples/#parsing-individual-files","title":"Parsing Individual Files","text":"<pre><code>from mii import MiiParser\n\nwith open(\"WII_PL00000.mii\", \"rb\") as f:\n    mii_data = f.read()\n\nmii = MiiParser.parse(mii_data)\nprint(mii.name)\nprint(mii.get_creation_datetime())\n</code></pre>"},{"location":"examples/#exporting-miis","title":"Exporting Miis","text":"<pre><code>from pathlib import Path\n\n# Export all Miis to a directory\noutput_dir = Path(\"./extracted_miis\")\nexported_paths = database.export_all(output_dir)\n\n# Export a single Mii\nmii.export(Path(\"./my_mii.mii\"))\n</code></pre>"},{"location":"examples/#working-with-multiple-database-types","title":"Working with Multiple Database Types","text":"<pre><code>from mii import MiiDatabase, MiiType\n\ndatabases = {}\nfor mii_type in MiiType:\n    try:\n        db = MiiDatabase(Path(mii_type.SOURCE), mii_type)\n        databases[mii_type.display_name] = db\n        print(f\"{mii_type.display_name}: {len(db)} Miis\")\n    except MiiDatabaseError:\n        print(f\"{mii_type.display_name}: Not found\")\n</code></pre>"},{"location":"examples/#error-handling","title":"Error Handling","text":"<pre><code>from mii import MiiDatabase, MiiDatabaseError, MiiType\n\ntry:\n    database = MiiDatabase(Path(\"nonexistent.dat\"), MiiType.WII_PLAZA)\nexcept MiiDatabaseError as e:\n    print(f\"Error: {e}\")\n</code></pre>"},{"location":"examples/#accessing-creation-timestamps","title":"Accessing Creation Timestamps","text":"<pre><code>mii = database[0]\ncreation_time = mii.get_creation_datetime()\nprint(f\"Created: {creation_time.strftime('%Y-%m-%d %H:%M:%S')}\")\n</code></pre> <p>For more detailed examples, see the complete examples file.</p>"}]}